{"remainingRequest":"/var/www/html/Vue/vue-clone-tandem/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/Vue/vue-clone-tandem/src/containers/calendar/calendar.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/var/www/html/Vue/vue-clone-tandem/src/containers/calendar/calendar.vue","mtime":1576653630585},{"path":"/var/www/html/Vue/vue-clone-tandem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/Vue/vue-clone-tandem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IEZ1bGxDYWxlbmRhciBmcm9tICJAZnVsbGNhbGVuZGFyL3Z1ZSI7CmltcG9ydCB7IENhbGVuZGFyIH0gZnJvbSAiQGZ1bGxjYWxlbmRhci9jb3JlIjsKaW1wb3J0IGRheUdyaWRQbHVnaW4gZnJvbSAiQGZ1bGxjYWxlbmRhci9kYXlncmlkIjsKaW1wb3J0IGludGVyYWN0aW9uUGx1Z2luLCB7IERyYWdnYWJsZSB9IGZyb20gIkBmdWxsY2FsZW5kYXIvaW50ZXJhY3Rpb24iOwppbXBvcnQgdGltZUdyaWRQbHVnaW4gZnJvbSAiQGZ1bGxjYWxlbmRhci90aW1lZ3JpZCI7CmltcG9ydCBBZGRQcm9ncmFtIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvRGlsb2dCb3gvQWRkUHJvZ3JhbSI7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCBzbGlkZSBmcm9tICJqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2xpZGUiCmltcG9ydCBBZGRWZWhpY2xlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRGlsb2dCb3gvQWRkVmVoaWNsZScKaW1wb3J0IHtmb3JtYXRDdXN0b21EYXRlLCBkYXRlT2JqRm9ybWF0dGVyLCBmb3JtYXRDdXN0b21UaW1lfSBmcm9tICcuLi8uLi9oZWxwZXIvaGVscGVyJwppbXBvcnQgcGFzc3dvcmRWYWxpZGF0b3IgZnJvbSAncGFzc3dvcmQtdmFsaWRhdG9yJwppbXBvcnQgeyBnZXRMaXN0T2ZQcm9ncmFtbWVzLCBnZXRQcm9ncmFtbWVCeUlkLCBnZXRVc2VyTGlzdCwgdXBkYXRlUHJvZ3JhbSwgY3JlYXRlUHJvZ3JhbSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzJwppbXBvcnQge1RvYXN0c0NvbnRhaW5lciwgVG9hc3RzU3RvcmUsIFRvYXN0c0NvbnRhaW5lclBvc2l0aW9ufSBmcm9tICdyZWFjdC10b2FzdHMnOwoKCmNvbnN0IHNjaGVtYSA9IG5ldyBwYXNzd29yZFZhbGlkYXRvcigpCnZhciBhcnJheU9mUHJvZyA9IFtdCnZhciBjdXJyZW50TW9udGggPSBuZXcgRGF0ZSgpCnZhciB2YWxpZCA9IGZhbHNlCmxldCByZW1vdmVkTGlzdCA9IFtdCnZhciBfdGhpcyA9IG51bGwKCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJjYWxlbmRhciIsCgogIGNvbXBvbmVudHM6IHsKICAgIEZ1bGxDYWxlbmRhciwKICAgIEFkZFByb2dyYW0sCiAgICBBZGRWZWhpY2xlCiAgfSwKCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBjYWxlbmRhclBsdWdpbnM6IFtkYXlHcmlkUGx1Z2luLCBpbnRlcmFjdGlvblBsdWdpbiwgdGltZUdyaWRQbHVnaW5dLAogICAgICBjYWxlbmRhckV2ZW50czogWwogICAgICAgIC8vIGluaXRpYWwgZXZlbnQgZGF0YQogICAgICAgIHsgdGl0bGU6ICJFdmVudCAxIiwgc3RhcnQ6IG5ldyBEYXRlKCkgfSwKICAgICAgICB7IHRpdGxlOiAiRXZlbnQgMiIsIHN0YXJ0OiAiMjAxOS0xMi0wNSIgfSwKICAgICAgICB7IHRpdGxlOiAiRXZlbnQgMyIsIHN0YXJ0OiAiMjAxOS0xMi0wNiIgfSwKICAgICAgICB7IHRpdGxlOiAiRXZlbnQgNCIsIHN0YXJ0OiAiMjAxOS0xMi0wNyIgfSwKICAgICAgICB7IHRpdGxlOiAiRXZlbnQgNSIsIHN0YXJ0OiAiMjAxOS0xMi0xMCIgfSwKICAgICAgICB7IHRpdGxlOiAiRXZlbnQgNiIsIHN0YXJ0OiAiMjAxOS0xMi0xNCIgfSwKICAgICAgICB7IHRpdGxlOiAiRXZlbnQgNyIsIHN0YXJ0OiAiMjAxOS0xMi0xNSIgfQogICAgICBdLAogICAgICBjb25maWc6IHsKICAgICAgICBkZWZhdWx0VmlldzogIm1vbnRoIiwKICAgICAgICBlZGl0YWJsZTogdHJ1ZSwKICAgICAgICBldmVudFJlbmRlcjogZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGV2ZW50Q29sb3I6ICIjZmZmIiwKICAgICAgc2hvd0FkZFByb2dyYW0gOiBmYWxzZSwKCiAgICBpc2xvYWRpbmc6ZmFsc2UsCiAgICBwcm9ncmFtOiBbXSwKICAgIGFycmF5T2ZQcm9nU3RhdGUgOiBbXSwKICAgIHZlaGljbGU6IFtdLAogICAgZWRpdGFibGVEdGE6W10sCiAgICBjdXJyZW50UHJvZ3JhbW1lSWQgOiAwLAogICAgb3BlbkFkZF9Qcm9ncmFtOiBmYWxzZSwKICAgIGlzU3VibWl0OiBmYWxzZSwKICAgIGlzRWRpdDogZmFsc2UsCiAgICBzdGFydDogbmV3IERhdGUoKSwKICAgIGVuZDogbmV3IERhdGUoKSwKICAgIHRpdGxlOiAiIiwKICAgIGVkaXRhYmxlVGl0bGU6ICIiLAogICAgZWRpdGFibGVzdGFydDogIiIsCiAgICBlZGl0YWJsZWVuZDogIiIsCiAgICBpZDogMCwKICAgIHJlbW92ZWRVc2VyTGlzdEFycmF5IDogW10sCiAgICBjdXJyZW50VmVoaWNsZUlkOjAsCiAgICB1cGRhdGVWZWhpY2xlSWQgOiBbXSwKICAgIGV2ZW50U2VsZWN0SWQ6IDAsCiAgICBpc1ZhbGlkOiBmYWxzZSwKICAgIHRpdGxlX1ZhbGlkOnRydWUsCiAgICBvYXRtZWFsX3ZhbGlkIDogdHJ1ZSwKICAgIGJlZWZfdmFsaWQgOiB0cnVlLAogICAgcGFuY2FrZV92YWxpZCA6IHRydWUsCiAgICBlbWVyYWxkX3ZhbGlkOiB0cnVlLAogICAgdmVoaWNsZV9WYWxpZCA6IGZhbHNlLAogICAgZGF0ZV9WYWxpZCA6IGZhbHNlLAogICAgZWVsX1ZhbGlkIDogZmFsc2UsCiAgICBsb2NhdGlvbl92YWxpZCA6IGZhbHNlLAogICAgcGVyc29uTGlzdF92YWxpZCA6IGZhbHNlLAogICAgcHJvZ3JhbW1fQWRkIDogZmFsc2UsCiAgICBldmVudF9kYXRlOiBuZXcgRGF0ZSgpLAogICAgZGF0ZVRpbWVTdGFydDogbmV3IERhdGUoKSwKICAgIGRhdGVUaW1lRW5kOiBuZXcgRGF0ZSgpLAogICAgdGhlbWU6ICJkYXJrIiwKICAgIFZlaGljbGVUaXRsZSA6ICcnLAogICAgcGVyc29uc0xpc3Q6IFtdLAogICAgZnVsbExpc3Q6W10sCiAgICBWZWhpY2xlc0xpc3Q6W10sCiAgICB1c2Vyc0xpc3Q6IGZhbHNlLAogICAgcHJlU2VsZWN0OiBbIlVzZXIxIiwgIlVzZXIyIl0sCiAgICB0aW1lVmFsdWU6IG5ldyBEYXRlKCksCiAgICBvcGVuQWRkX1ZlaGljbGVEbGlvZzogZmFsc2UsCiAgICB2ZWhpY2xlTm86IG51bGwsCiAgICBzaGlmdDogdHJ1ZSwKICAgIGVlbFZhbDogIiIsCiAgICBkZWZhdWx0RWVsVmFsOnt9LAogICAgZWVsSWQ6MCwKICAgIGxvY2F0aW9uVmFsOiAnJywKICAgIGlzVmVoaWNsZUFkZDp0cnVlLAogICAgICBvYXRNZWFsOiBuZXcgRGF0ZSwKICAgICAgYmVlZjogbmV3IERhdGUoKSwKICAgICAgcGFuY2FrZTogbmV3IERhdGUoKSwKICAgICAgZW1lcmFsZDogbmV3IERhdGUoKSwKICAgICAgY3VycmVudERhdGU6bmV3IERhdGUoKSwKICAgIE1vcm5pbmc6IHsKICAgICAgc2hpZnQ6ICdNb3JuaW5nJywKICAgICAgc2hpZnRUaW1lOiBuZXcgRGF0ZSgpLAogICAgfSwKICAgIEV2ZW5pbmc6IHsKICAgICAgc2hpZnQ6ICdFdmVuaW5nJywKICAgICAgc2hpZnRUaW1lOiBuZXcgRGF0ZSgpLAogICAgfSwKICAgIGZpbHRlcmVkTGlzdDpbXSwKICAgIGF2YWlsT3B0aW9ucyA6IFtdLAogICAgdXNlckxpc3Q6IFtdCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICAgICBfdGhpcyA9IHRoaXM7CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkgewogICAgbGV0IGRyYWdnYWJsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215ZHJhZ2dhYmxlJykKICAgIG5ldyBEcmFnZ2FibGUoZHJhZ2dhYmxlRWwsIHsKICAgICAgaXRlbVNlbGVjdG9yOiAiLml0ZW0tY2xhc3MiLAogICAgICBldmVudERhdGE6IGZ1bmN0aW9uIChldmVudEVsKSB7CiAgICAgICAgbGV0IHRpdGxlID0gZXZlbnRFbC5nZXRBdHRyaWJ1dGUoInRpdGxlIik7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRpdGxlOiB0aXRsZQogICAgICAgIH07CiAgICAgIH0KICAgIH0pOwogICAgICB9KQoKICAgICBfdGhpcy5tb250aENoYW5nZWhhbmRsZXIoMCkKCiAgICAkKCcuZmMtdG9kYXktYnV0dG9uJykuY2xpY2soKCkgPT4geyAgICAgIAogICAgICBfdGhpcy5tb250aENoYW5nZWhhbmRsZXIoMCkKICAgfSkKCiAgICAkKCcuZmMtcHJldi1idXR0b24nKS5jbGljaygoKSA9PiB7ICAKICAgICAgIF90aGlzLm1vbnRoQ2hhbmdlaGFuZGxlcigxKSAgICAgCiAgIH0pOwoKICAgICQoJy5mYy1uZXh0LWJ1dHRvbicpLmNsaWNrKCgpID0+IHsKICAgICAgX3RoaXMubW9udGhDaGFuZ2VoYW5kbGVyKDIpCiB9KTsKICB9LAoKCiAgbWV0aG9kczogewogICAgYXN5bmMgbW9udGhDaGFuZ2VoYW5kbGVyKGlkKXsKICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzTG9nZ2VkaW4nKQogICAgdmFyIHVwZGF0ZU1vbnRoID0gaWQgPT09IDEgPyBuZXcgRGF0ZShjdXJyZW50TW9udGguc2V0TW9udGgoY3VycmVudE1vbnRoLmdldE1vbnRoKCkgLSAxKSkgOiAKICAgICAgICAgICAgICAgICAgICAgIGlkID09PSAyID8gbmV3IERhdGUoY3VycmVudE1vbnRoLnNldE1vbnRoKGN1cnJlbnRNb250aC5nZXRNb250aCgpICsgMSkpIDoKICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGN1cnJlbnRNb250aC5zZXRNb250aChuZXcgRGF0ZSgpLmdldE1vbnRoKCkpKQoKICAgIGN1cnJlbnRNb250aCA9IHVwZGF0ZU1vbnRoCgogICAgdmFyIG1vbnRoID0gY3VycmVudE1vbnRoLmdldE1vbnRoKCkgPiA4ID8gY3VycmVudE1vbnRoLmdldE1vbnRoKCkrMSA6ICcwJyArIHBhcnNlSW50KGN1cnJlbnRNb250aC5nZXRNb250aCgpKzEpCiAKICAgIHZhciBsYXN0RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRNb250aC5nZXRGdWxsWWVhcigpLG1vbnRoLDApOwogICAgdmFyIHByb2dyYW1tZVN0YXJ0ID0gY3VycmVudE1vbnRoLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSsgIi0iICsgbW9udGggKyAiLTAxIgogICAgdmFyIHByb2dyYW1tZUVuZCA9IGN1cnJlbnRNb250aC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkrICItIiArIG1vbnRoICsgJy0nICtsYXN0RGF0ZS5nZXREYXRlKCk7CgogICBhd2FpdCBnZXRMaXN0T2ZQcm9ncmFtbWVzKHRva2VuLHByb2dyYW1tZVN0YXJ0LHByb2dyYW1tZUVuZCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgIGFycmF5T2ZQcm9nID0gcmVzcG9uc2UuZGF0YS5kYXRhLm1hcCgoZGF0YSkgPT4gewogICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgaWQ6IGRhdGEucHJvZ3JhbW1lcy5sZW5ndGggPiAwID8gZGF0YS5wcm9ncmFtbWVzWzBdLnByb2dyYW1tZV9pZCA6IDAsCiAgICAgICAgICAgIHRpdGxlIDogKGRhdGEucHJvZ3JhbW1lcy5sZW5ndGggPiAwID8gZGF0YS5wcm9ncmFtbWVzWzBdLnZlY2hpY2xlQ291bnQgOiAwKSArICIgdmVoaWNsZXMiLAogICAgICAgICAgICBkYXRlIDogZGF0YS5kYXRlCiAgICAgICAgICB9CiAgICAgICAgICAgcmV0dXJuIGRhdGEucHJvZ3JhbW1lcy5sZW5ndGggPiAwID8gb2JqIDogZmFsc2UKICAgICAgfSkKICAgICAgICBfdGhpcy5hcnJheU9mUHJvZ1N0YXRlID0gYXJyYXlPZlByb2cKICAgIH0pCiAgfSwKCiAgdmFsaWRhdGVQcm9ncmFtIDogZnVuY3Rpb24oKXsKICAgIGxldCBwYW5jYWtlVmFsaWQgPSBmYWxzZQogICAgbGV0IGVtZXJhbGRWYWxpZCA9IGZhbHNlCiAgICAKICAgIGlmKF90aGlzLnBhbmNha2UgPj0gX3RoaXMub2F0TWVhbCl7CiAgICAgIHBhbmNha2VWYWxpZCA9IHRydWUKICAgIH1lbHNlewogICAgICBwYW5jYWtlVmFsaWQgPSBmYWxzZQogICAgfQoKICAgIGlmKF90aGlzLmVtZXJhbGQgPiBfdGhpcy5vYXRNZWFsKXsKICAgICAgZW1lcmFsZFZhbGlkID0gdHJ1ZQogICAgfWVsc2V7CiAgICAgIGVtZXJhbGRWYWxpZCA9IGZhbHNlCiAgICB9CgogICAgICBfdGhpcy5wYW5jYWtlX3ZhbGlkID0gcGFuY2FrZVZhbGlkLAogICAgICBfdGhpcy5lbWVyYWxkX3ZhbGlkID0gZW1lcmFsZFZhbGlkCgogICAgbGV0IHZhbGlkYXRlT2JqID0gcGFuY2FrZVZhbGlkICYmIGVtZXJhbGRWYWxpZAogICAgcmV0dXJuIHZhbGlkYXRlT2JqCiAgfSwKCiAgICBoYW5kbGVEYXRlQ2xpY2s6IGZ1bmN0aW9uKGFyZykgewogICAgICAvLyBjb25zb2xlLmxvZygiZGF0ZSBjbGljayAiLF90aGlzLm9wZW5BZGRfUHJvZ3JhbSk7CiAgICAgIAogICAgY29uc3QgdGVtcCA9IF90aGlzLmFycmF5T2ZQcm9nU3RhdGUuZmlsdGVyKGRhdGEgPT4gewogICAgICByZXR1cm4gZGF0YS5kYXRlID09PSBmb3JtYXRDdXN0b21EYXRlKGFyZy5kYXRlLCctJykKICAgIH0pCgogICAgY29uc3QgZW1wdHkgPSAiIjsKICAgIGNvbnN0IGRlZmF1bHREYXRlID0gYXJnLmRhdGU7CiAgICBjb25zdCBlbXB0eUxpc3QgPSBbXTsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc0xvZ2dlZGluJykKICAgIGlmKGFyZy5kYXRlID4gbmV3IERhdGUoKSl7CiAgICAgIGlmKCEodGVtcC5sZW5ndGggPiAwKSl7CiAgICAgICAgewogICAgICAgICAgZ2V0VXNlckxpc3QodG9rZW4sbmV3IERhdGUoYXJnLmRhdGUpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgY29uc3QgdXNlcnMgPSByZXNwb25zZS5kYXRhLmRhdGEubWFwKChkYXRhKT0+ewogICAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgICBsYWJlbDogZGF0YS51c2VyX25hbWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogZGF0YS51c2VyX2lkLAogICAgICAgICAgICAgICAgaWQgOiBkYXRhLnVzZXJfaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIG9iagogICAgICAgICAgICB9KQogICAgICAgICAgICAgIF90aGlzLnVzZXJMaXN0ID0gdXNlcnMKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhfdGhpcy51c2VyTGlzdCk7CiAgICAgICAgICAgICAgCiAgICAgICAgICB9KQogICAgICAgICAgICAKICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoYXJnLmRhdGUpCiAgICAgICAgCiAgICAgICAgLy8gYmluZCB3aXRoIGFuIGFycm93IGZ1bmN0aW9uCiAgICAKICAgICAgICAgIF90aGlzLm9hdG1lYWxfdmFsaWQgICAgPSB0cnVlLAogICAgICAgICAgX3RoaXMuYmVlZl92YWxpZCAgICAgICA9IHRydWUsCiAgICAgICAgICBfdGhpcy5wYW5jYWtlX3ZhbGlkICAgID0gdHJ1ZSwKICAgICAgICAgIF90aGlzLmVtZXJhbGRfdmFsaWQgICAgPSB0cnVlLAogICAgICAgICAgX3RoaXMub3BlbkFkZF9Qcm9ncmFtICA9ICFfdGhpcy5vcGVuQWRkX1Byb2dyYW0sCiAgICAgICAgICBfdGhpcy5WZWhpY2xlVGl0bGUgICAgID0gZW1wdHksCiAgICAgICAgICBfdGhpcy5pc1N1Ym1pdCAgICAgICAgID0gdHJ1ZSwKICAgICAgICAgIF90aGlzLnNoaWZ0ICAgICAgICAgICAgPSB0cnVlLAogICAgICAgICAgX3RoaXMuc3RhcnQgICAgICAgICAgICA9IGRlZmF1bHREYXRlLAogICAgICAgICAgX3RoaXMuZW5kICAgICAgICAgICAgICA9IGRlZmF1bHREYXRlLAogICAgICAgICAgX3RoaXMuY3VycmVudERhdGUgICAgICA9IGN1cnJlbnREYXRlLAogICAgICAgICAgX3RoaXMuY2FsZW5kYXJFdmVudHMgICA9IGVtcHR5TGlzdCwKICAgICAgICAgIF90aGlzLnByb2dyYW1tX0FkZCAgICAgPSB0cnVlCiAgICAgICAgICBfdGhpcy5wZXJzb25zTGlzdCAgICAgID0gZW1wdHlMaXN0CiAgICAgICAgICAvLyBwZXJzb25JZDowCiAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgVG9hc3RzU3RvcmUuZXJyb3IoIk9ubHkgb25lIFByb2dyYW0gY2FuIGJlIGFkZCBhdCBwYXJ0aWN1bGFyIGRhdGUhIikKICAgICAgfQp9CmVsc2V7CiAgVG9hc3RzU3RvcmUuZXJyb3IoIlBsZWFzZSBzZWxlY3QgZnV0dXJlIGRhdGVzIG9ubHkgZm9yIGNyZWF0aW5nIFByb2dyYW1tZSEiKQp9Cn0sCgogICAgZXZlbnRDbGljazpmdW5jdGlvbihwcm9ncmFtKXsKICAgICAgICAKICAgIGNvbnN0IHJlbW92ZWRVc2VyTGlzdEFycmF5ID0gW10KICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzTG9nZ2VkaW4nKTsKICAgIAogICAgZ2V0UHJvZ3JhbW1lQnlJZCh0b2tlbixwYXJzZUludChwcm9ncmFtLmV2ZW50LmlkKSkudGhlbiggYXN5bmMgZnVuY3Rpb24ocmVzcG9uc2UpeyAgICAgIAogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgY29uc3QgdGVtcFByb2cgPSBbXQogICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YVswXQogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGEuZGF0ZSkKICAgICAgCiAgICAgIGF3YWl0IGdldFVzZXJMaXN0KHRva2VuLGRhdGUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgCiAgICAgICAgY29uc3QgdXNlcnMgPSByZXNwb25zZS5kYXRhLmRhdGEubWFwKChkYXRhKT0+ewogICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbGFiZWw6IGRhdGEudXNlcl9uYW1lLAogICAgICAgICAgICB2YWx1ZTogZGF0YS51c2VyX2lkLAogICAgICAgICAgICBpZCA6IGRhdGEudXNlcl9pZAogICAgICAgICAgfSAgICAgICAgICAKICAgICAgICAgIHJldHVybiBvYmoKICAgICAgICB9KQogICAgICAgVnVlLnNldChfdGhpcy4kZGF0YSwndXNlckxpc3QnLHVzZXJzKSAKICAgICAgfSkKCiAgICAgIGNvbnN0IGV2ZW50cyA9IGRhdGEucHJvZ3JhbW1lc192ZWhpY2xlcy5tYXAodmVoaWNsZSA9PiB7CiAgICAgICAgY29uc3QgZWVsID0gX3RoaXMudXNlckxpc3QuZmlsdGVyKHVzZXIgPT4gewogICAgICAgICAgcmV0dXJuIHVzZXIuaWQgPT09IGRhdGEudXNlcl9pZAogICAgICAgIH0pCiAgICAgICAgCiAgICAgIHZhciBsaXN0ID0gdmVoaWNsZS5wcm9nX3ZlaGljbGVfdXNlcnMubWFwKHVzZXIgPT4gewogICAgICAgIGNvbnN0IG9iaiA9IHsKICAgICAgICAgIGxhYmVsOiB1c2VyLnVzZXIuZGlzcGxheV9uYW1lLAogICAgICAgICAgdmFsdWU6IHVzZXIudXNlcl9pZCwKICAgICAgICAgIGlkIDogdXNlci51c2VyX2lkCiAgICAgICAgfQogICAgICAgIHJldHVybiBvYmoKICAgICAgfSkKCiAgICBjb25zdCB2ZWhpY2xlcyA9IGRhdGEucHJvZ3JhbW1lc192ZWhpY2xlcy5tYXAodl9kYXRhID0+IHsgICAgICAKCiAgICAgIGNvbnN0IGFzc2luZ25lZFBlcnNvbiA9IHZfZGF0YS5wcm9nX3ZlaGljbGVfdXNlcnMubWFwKCh1c2VyKSA9PiB7CiAgICAgICAgY29uc3QgdGVtcCA9IHsKICAgICAgICAgIGxhYmVsOiB1c2VyLnVzZXIuZGlzcGxheV9uYW1lLAogICAgICAgICAgdmFsdWU6IHVzZXIudXNlci5kaXNwbGF5X25hbWUsCiAgICAgICAgICBpZCA6IHVzZXIudXNlcl9pZAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRlbXAKICB9KQoKICBjb25zdCBlbWVyZ2VuY3lVc2VyID0gewogICAgbGFiZWw6ICB2X2RhdGEuc3VwcG9ydF91c2VyLmRpc3BsYXlfbmFtZSwgdmFsdWU6ICB2X2RhdGEuc3VwcG9ydF91c2VyX2lkLCBpZDogIHZfZGF0YS5zdXBwb3J0X3VzZXJfaWQKICB9CiAgLy8gY29uc29sZS5sb2coZW1lcmdlbmN5VXNlcik7CiAgCiAgLy8gY29uc3QgZW1lcmdlbmN5VXNlciA9IF90aGlzLnN0YXRlLnVzZXJMaXN0LmZpbHRlcih1c2VyTmFtZSA9PiB7CiAgICAKICAvLyAgIHJldHVybiB1c2VyTmFtZS5pZCA9PT0gdl9kYXRhLnN1cHBvcnRfdXNlcl9pZAogIC8vIH0pCiAgCiAgICAgIGNvbnN0IG9iaiA9IHsKICAgICAgICBkYXRlOl90aGlzLmN1cnJlbnREYXRlLAogICAgICAgIFZlaGljbGVUaXRsZTogdl9kYXRhLnRpdGxlLAogICAgICAgIHN0YXJ0OiBkYXRlT2JqRm9ybWF0dGVyKGRhdGUsdl9kYXRhLnZfc190KSwKICAgICAgICBlbmQ6IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSx2X2RhdGEudl9lX3QpLAogICAgICAgIGlkOiB2X2RhdGEudmVoaWNsZV9pZCwKICAgICAgICB2ZWhpY2xlTm86IHZfZGF0YS52ZWhpY2xlX25vLAogICAgICAgIGVlbFZhbCA6IGVtZXJnZW5jeVVzZXIubGFiZWwsCiAgICAgICAgcGVyc29uc0xpc3Q6Wy4uLmFzc2luZ25lZFBlcnNvbl0sCiAgICAgICAgZWVsSWQgOiB2X2RhdGEuc3VwcG9ydF91c2VyX2lkLAogICAgICAgIGxvY2F0aW9uVmFsOiB2X2RhdGEuYWRkaXRpb25hbF9pbmZvLAoKICAgICAgfQogICAgICByZXR1cm4gb2JqCiAgICB9KQogICAgCiAgICB0ZW1wUHJvZy5wdXNoKHsKICAgICAgdGl0bGU6IGRhdGEucHJvZ3JhbW1lc192ZWhpY2xlcy5sZW5ndGggKycgdmVoaWNsZXMnLAogICAgICBwcm9ncmFtbWVfaWQgOiBkYXRhLmlkLAogICAgICBkYXRlOmRhdGUsCiAgICAgIGVtZXJhbGQgOiBkYXRhLm9jdF9ldmVuaW5nICE9PSAiIiA/IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSxkYXRhLm9jdF9ldmVuaW5nKSA6IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSxkYXRhLm9jdF9tb3JuaW5nKSwKICAgICAgYmVlZiA6IGRhdGEudm10X2V2ZW5pbmcgIT09ICIiID8gZGF0ZU9iakZvcm1hdHRlcihkYXRlLGRhdGEudm10X2V2ZW5pbmcpIDogZGF0ZU9iakZvcm1hdHRlcihkYXRlLGRhdGEudm10X21vcm5pbmcpLAogICAgICBwYW5jYWtlIDogZGF0ZU9iakZvcm1hdHRlcihkYXRlLGRhdGEud3Nfb190aW1lKSwKICAgICAgIG9hdE1lYWwgOiBkYXRhLm9vdF9ldmVuaW5nICE9PSAiIiA/IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSxkYXRhLm9vdF9ldmVuaW5nKSA6IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSxkYXRhLm9vdF9tb3JuaW5nKSwKICAgICAgVmVoaWNsZXNMaXN0IDogWy4uLnZlaGljbGVzXQogICAgfSkKCiAgICAgICBjb25zdCBvYmogPSB7CiAgICAgICAgZGF0ZTpuZXcgRGF0ZShkYXRhLmRhdGUpLAogICAgICAgIFZlaGljbGVUaXRsZTogdmVoaWNsZS50aXRsZSwKICAgICAgICBzdGFydDogZGF0ZU9iakZvcm1hdHRlcihuZXcgRGF0ZSgpLHZlaGljbGUudl9zX3QpLAogICAgICAgIGVuZDogZGF0ZU9iakZvcm1hdHRlcihuZXcgRGF0ZSgpLHZlaGljbGUudl9lX3QpLAogICAgICAgIGlkOiB2ZWhpY2xlLnZlaGljbGVfaWQsCiAgICAgICAgdmVoaWNsZU5vOiB2ZWhpY2xlLnZlaGljbGVfbm8sCiAgICAgICAgcGVyc29uc0xpc3Q6IGxpc3QsCiAgICAgICAgZWVsSWQgOiB2ZWhpY2xlLnN1cHBvcnRfdXNlcl9pZCwKICAgICAgICBsb2NhdGlvblZhbDogdmVoaWNsZS5hZGRpdGlvbmFsX2luZm8sCiAgICAgICAgZWVsVmFsIDogdmVoaWNsZS5zdXBwb3J0X3VzZXIuZGlzcGxheV9uYW1lLAogICAgICAgIGN1cnJlbnRQcm9ncmFtbWVJZCA6IHByb2dyYW0uZXZlbnQuaWQsCiAgICAgICAgb3BlbkFkZF9Qcm9ncmFtIDogZmFsc2UKICAgICAgfQogICAgICByZXR1cm4gb2JqIAogICAgICB9KQoKICAgICAgICBfdGhpcy5vYXRtZWFsX3ZhbGlkID0gdHJ1ZSwKICAgICAgICBfdGhpcy5iZWVmX3ZhbGlkID0gdHJ1ZSwKICAgICAgICBfdGhpcy5wYW5jYWtlX3ZhbGlkID0gdHJ1ZSwKICAgICAgICBfdGhpcy5lbWVyYWxkX3ZhbGlkID0gdHJ1ZSwKICAgICAgICBfdGhpcy5wcm9ncmFtID0gdGVtcFByb2csCiAgICAgICAgX3RoaXMub3BlbkFkZF9Qcm9ncmFtPSAhX3RoaXMub3BlbkFkZF9Qcm9ncmFtLAogICAgICAgIF90aGlzLmlzRWRpdD0gdHJ1ZSwKICAgICAgICBfdGhpcy5pc1N1Ym1pdD0gZmFsc2UsCiAgICAgICAgX3RoaXMuY2FsZW5kYXJFdmVudHMgPSBbLi4uZXZlbnRzXSwgCiAgICAgICAgX3RoaXMucmVtb3ZlZFVzZXJMaXN0QXJyYXkgPSByZW1vdmVkVXNlckxpc3RBcnJheSwKICAgICAgICBfdGhpcy5iZWVmICAgID0gZGF0YS52bXRfZXZlbmluZyAhPT0gIiIgPyBkYXRlT2JqRm9ybWF0dGVyKGRhdGUsZGF0YS52bXRfZXZlbmluZykgOiBkYXRlT2JqRm9ybWF0dGVyKGRhdGUsZGF0YS52bXRfbW9ybmluZyksCiAgICAgICAgX3RoaXMuZW1lcmFsZCA9IGRhdGEub2N0X2V2ZW5pbmcgIT09ICIiID8gZGF0ZU9iakZvcm1hdHRlcihkYXRlLGRhdGEub2N0X2V2ZW5pbmcpIDogZGF0ZU9iakZvcm1hdHRlcihkYXRlLGRhdGEub2N0X21vcm5pbmcpLAogICAgICAgIF90aGlzLm9hdE1lYWwgPSBkYXRhLm9vdF9ldmVuaW5nICE9PSAiIiA/IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSxkYXRhLm9vdF9ldmVuaW5nKSA6IGRhdGVPYmpGb3JtYXR0ZXIoZGF0ZSxkYXRhLm9vdF9tb3JuaW5nKSwKICAgICAgICBfdGhpcy5wYW5jYWtlID0gZGF0ZU9iakZvcm1hdHRlcihkYXRlLGRhdGEud3Nfb190aW1lKSwKICAgICAgICBfdGhpcy5wcm9ncmFtbV9BZGQ9ZmFsc2UsCiAgICAgICAgX3RoaXMuZXZlbnRfZGF0ZSA9IGRhdGUsCiAgICAgICAgX3RoaXMuc2hpZnQgPSBkYXRhLm9jdF9ldmVuaW5nID09PSAiIiA/IHRydWUgOiBmYWxzZSwKICAgICAgICBfdGhpcy5jdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGEuZGF0ZSkKICAgICAKICAgIH0pCiAgICAgLy8gY29uc29sZS5sb2codHlwZW9mKF90aGlzLnN0YXRlLnBlcnNvbklkKSk7CiAgICB9LAoKICAgIGhhbmRsZUVkaXQgOiBmdW5jdGlvbigpIHsgICAgCiAgIGlmKF90aGlzLmV2ZW50X2RhdGUgPiBuZXcgRGF0ZSgpKXsKCiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc0xvZ2dlZGluJykKICAgIAogICAgY29uc3QgY2xvbmVQcm9ncmFtID0gWy4uLl90aGlzLnByb2dyYW1dCiAgICBjb25zdCBldmVudHMgPSBbLi4uX3RoaXMuY2FsZW5kYXJFdmVudHNdOwoKICAgIGNvbnN0IHVwZGF0ZWRQcm9nID0gY2xvbmVQcm9ncmFtLm1hcChpbmZvID0+ewoKICAgICAgY29uc3Qgb2JqID17CiAgICAgICAgdGl0bGU6IF90aGlzLmNhbGVuZGFyRXZlbnRzLmxlbmd0aCArJyB2ZWhpY2xlcycgLAogICAgICAgIHByb2dyYW1tZV9pZCA6IGluZm8ucHJvZ3JhbW1lX2lkLAogICAgICAgIGRhdGU6X3RoaXMuY3VycmVudERhdGUsCiAgICAgICAgZW1lcmFsZCA6IF90aGlzLmVtZXJhbGQsCiAgICAgICAgYmVlZiA6IF90aGlzLmJlZWYsCiAgICAgICAgcGFuY2FrZSA6IF90aGlzLnBhbmNha2UsCiAgICAgICAgb2F0TWVhbCA6IF90aGlzLm9hdE1lYWwsCiAgICAgICAgVmVoaWNsZXNMaXN0IDogWy4uLmV2ZW50c10KICAgICAgfQogICAgICByZXR1cm4gb2JqCiAgICB9KSAgICAKICAgIGV2ZW50cy5tYXAoZXZlbnQgPT4gewogICAgICByZXR1cm4gZXZlbnRbX3RoaXMuZXZlbnRTZWxlY3RJZF07CiAgICB9KTsKCiAgICB1cGRhdGVQcm9ncmFtKHRva2VuLHVwZGF0ZWRQcm9nLF90aGlzLnNoaWZ0LF90aGlzLmNhbGVuZGFyRXZlbnRzLF90aGlzLnVwZGF0ZVZlaGljbGVJZCxfdGhpcy5yZW1vdmVkVXNlckxpc3RBcnJheSkKICAgIC50aGVuKCgpPT57CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoZmFsc2UpOwogICAgfSkKICAgIC8vIGV2ZW50c1tfdGhpcy5zdGF0ZS5ldmVudFNlbGVjdElkXSA9IG5ld0V2ZW50OwoKICAgICAgX3RoaXMuVmVoaWNsZXNMaXN0ID0gZXZlbnRzLAogICAgICBfdGhpcy5iZWVmID0gX3RoaXMuYmVlZiwKICAgICAgX3RoaXMuZGF0ZSA9IF90aGlzLmN1cnJlbnREYXRlLAogICAgICBfdGhpcy5lbWVyYWxkID0gX3RoaXMuZW1lcmFsZCwKICAgICAgX3RoaXMub2F0TWVhbCA9IF90aGlzLm9hdE1lYWwsCiAgICAgIF90aGlzLnBhbmNha2UgPSBfdGhpcy5wYW5jYWtlLAogICAgICBfdGhpcy50aXRsZT0gX3RoaXMuY2FsZW5kYXJFdmVudHMubGVuZ3RoKydQcm9ncmFtcycgLAogICAgICBfdGhpcy5vcGVuQWRkX1Byb2dyYW0gPSBmYWxzZSwKICAgICAgX3RoaXMuaXNsb2FkaW5nID0gdHJ1ZQogICAgICBfdGhpcy5pc1N1Ym1pdCA9IGZhbHNlLAogICAgICBfdGhpcy5pc0VkaXQgPSBmYWxzZSAgICAKICAgfWVsc2V7CiAgICAgVG9hc3RzU3RvcmUuZXJyb3IoJ0Z1dHVyZSBldmVudHMgY2FuIG9ubHkgYmUgZWRpdGVkIScpCiAgIH0KICB9LAoKICBoYW5kbGVUaXRsZUNoYW5nZTpmdW5jdGlvbihldmVudCl7CiAgICBjb25zdCB0ZW1wVmFsID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgLy8gIGNvbnNvbGUubG9nKHRlbXBWYWwpOwogICAgaWYgKF90aGlzLmlzU3VibWl0KSB7CiAgICAgICAgX3RoaXMudGl0bGVfVmFsaWQgPSB0cnVlLAogICAgICAgIF90aGlzLlZlaGljbGVUaXRsZSA9IHRlbXBWYWwKICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMudGl0bGVfVmFsaWQgPSB0cnVlLAogICAgICAgIF90aGlzLlZlaGljbGVUaXRsZSA9IHRlbXBWYWwKICAgIH0KICB9LAoKICBoYW5kbGVFZWxDaGFuZ2UgOiBmdW5jdGlvbihlKXsKICAgIC8vIGNvbnNvbGUubG9nKGUpOwogICAgICBfdGhpcy5lZWxWYWw9IGUsCiAgICAgIF90aGlzLmVlbElkID0gZS5pZCwKICAgICAgX3RoaXMuZWVsX1ZhbGlkID0gdHJ1ZQogIH0sCgogICAgY2xvc2VBZGRQcm9ncmFtOmZ1bmN0aW9uKCl7CiAgICAgICAgX3RoaXMub3BlbkFkZF9Qcm9ncmFtID0gZmFsc2UKICAgIH0sCgogICAgaGFuZGxlQWRkUHJvZ3JhbTogZnVuY3Rpb24oKXsKICAgICAgCiAgICBjb25zdCB2YWxpZF9wcm9nID0gdGhpcy52YWxpZGF0ZVByb2dyYW0oKQogICAgLy8gY29uc29sZS5sb2codGVtcCk7CgppZihfdGhpcy5jYWxlbmRhckV2ZW50cy5sZW5ndGggPiAwICYmIHZhbGlkX3Byb2cpewogIGlmKF90aGlzLnBhbmNha2VfdmFsaWQgJiYgX3RoaXMub2F0bWVhbF92YWxpZCAmJiBfdGhpcy5iZWVmX3ZhbGlkICYmIF90aGlzLmVtZXJhbGRfdmFsaWQpewogICAgICBjb25zdCBwcm9ncmFtID0gW10KCiAgICAgIGNvbnN0IGV2ZW50cyA9IFsuLi5fdGhpcy5jYWxlbmRhckV2ZW50c107CiAgICAgIC8vIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIHByb2dyYW0ucHVzaCh7CiAgICAgICAgdGl0bGU6IF90aGlzLmNhbGVuZGFyRXZlbnRzLmxlbmd0aCsnIFZlaGljbGVzJyAsCiAgICAgICAgZGF0ZTpmb3JtYXRDdXN0b21EYXRlKF90aGlzLmN1cnJlbnREYXRlLCctJyksCiAgICAgICAgb2F0TWVhbCA6IGZvcm1hdEN1c3RvbVRpbWUoX3RoaXMub2F0TWVhbCwnOicpLAogICAgICAgIGJlZWYgOiBmb3JtYXRDdXN0b21UaW1lKF90aGlzLmJlZWYsJzonKSwKICAgICAgICBwYW5jYWtlIDogZm9ybWF0Q3VzdG9tVGltZShfdGhpcy5wYW5jYWtlLCc6JyksCiAgICAgICAgZW1lcmFsZCA6IGZvcm1hdEN1c3RvbVRpbWUoX3RoaXMuZW1lcmFsZCwnOicpLAogICAgICAgIFZlaGljbGVzTGlzdCA6IFsuLi5ldmVudHNdCiAgICAgIH0pOwogIAogICAgICBhcnJheU9mUHJvZyA9IFsuLi5wcm9ncmFtLC4uLmFycmF5T2ZQcm9nXQogICAgICAKICAgICAgICBfdGhpcy5wcm9ncmFtICAgICAgICAgICAgICAgPSBwcm9ncmFtLAogICAgICAgIF90aGlzLmFycmF5T2ZQcm9nU3RhdGUgICAgICA9IGFycmF5T2ZQcm9nLAogICAgICAgIF90aGlzLm9wZW5BZGRfUHJvZ3JhbSAgICAgICA9IGZhbHNlLAogICAgICAgIF90aGlzLmlzU3VibWl0ICAgICAgICAgICAgICA9IGZhbHNlLAogICAgICAgIF90aGlzLmlzRWRpdCAgICAgICAgICAgICAgICA9IGZhbHNlLAogICAgICAgIF90aGlzLnByb2dyYW1tX0FkZCAgICAgICAgICA9ZmFsc2UKICAgICAgCiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzTG9nZ2VkaW4nKQogICAgICBjcmVhdGVQcm9ncmFtKHRva2VuLHByb2dyYW0sX3RoaXMuc2hpZnQsX3RoaXMuY2FsZW5kYXJFdmVudHMsX3RoaXMucGVyc29uc0xpc3QpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKGZhbHNlKTsKICAgICAgfSkKCiAgICAgICAgX3RoaXMucGVyc29uc0xpc3QgPSBfdGhpcy5wZXJzb25zTGlzdAogIAogICAgfQp9ZWxzZXsKICAvLyBUb2FzdHNTdG9yZS5lcnJvcigicGxlYXNlIGFkZCBhdGxlYXN0IG9uZSB2ZWhpY2xlIHRvIGFkZCBwcm9ncmFtISAiKSA7Cn0KIH0sCiAgICBvcGVuQWRkVmVoaWNsZTpmdW5jdGlvbigpeyAgIAogICAgICAKICAgICAgY29uc3QgbGlzdCA9IF90aGlzLnVzZXJMaXN0LmZpbHRlcigoZGF0YSkgPT4gewogICAgICByZXR1cm4gX3RoaXMuZnVsbExpc3QuZmluZEluZGV4KHVzZXIgPT4gZGF0YS5pZCA9PT0gdXNlci5pZCkgPCAwCiAgICAgfSkgICAgICAKCiAgICAgIF90aGlzLlZlaGljbGVUaXRsZSAgICAgPSAiIiwKICAgICAgX3RoaXMuc3RhcnQgICAgICAgICAgICA9IG5ldyBEYXRlKCksCiAgICAgIF90aGlzLmVuZCAgICAgICAgICAgICAgPSBuZXcgRGF0ZSgpLAogICAgICBfdGhpcy5pZCAgICAgICAgICAgICAgID0gMCwKICAgICAgX3RoaXMudmVoaWNsZU5vICAgICAgICA9ICIiLAogICAgICBfdGhpcy5hdmFpbE9wdGlvbnMgICAgID0gbGlzdCwKICAgICAgX3RoaXMuZWVsVmFsICAgICAgICAgICA9IHt9LAogICAgICBfdGhpcy5wZXJzb25zTGlzdCAgICAgID0gW10sCiAgICAgIF90aGlzLmVlbElkICAgICAgICAgICAgPSAwLAogICAgICBfdGhpcy5sb2NhdGlvblZhbCAgICAgID0gIiIsCiAgICAgIF90aGlzLmlzVmVoaWNsZUFkZCAgICAgPSB0cnVlLAogICAgICBfdGhpcy5kYXRlX1ZhbGlkICAgICAgID0gdHJ1ZSwKICAgICAgX3RoaXMudGl0bGVfVmFsaWQgICAgICA9IHRydWUsCiAgICAgIF90aGlzLnZlaGljbGVfVmFsaWQgICAgPSB0cnVlLAogICAgICBfdGhpcy5lZWxfVmFsaWQgICAgICAgID0gdHJ1ZSwKICAgICAgX3RoaXMubG9jYXRpb25fdmFsaWQgICA9IHRydWUsCiAgICAgIF90aGlzLnBlcnNvbkxpc3RfdmFsaWQgPSB0cnVlCgogICAgICBfdGhpcy52YWxpZCA9IGZhbHNlCiAgICAgIF90aGlzLm9wZW5BZGRfVmVoaWNsZURsaW9nID0gdHJ1ZSAgCgogICAgICAvLyBjb25zb2xlLmxvZygib3BlbiBhZGQgdmVoaWNsZSIsX3RoaXMuYXZhaWxPcHRpb25zKTsKICAgICAgICAgIAogICAgfSwgIApoYW5kbGVDbG9zZVZlaGljbGU6ZnVuY3Rpb24oKXsgIAogICAgICBfdGhpcy5vcGVuQWRkX1ZlaGljbGVEbGlvZyA9IGZhbHNlCiAgICAvLyAgIGNvbnNvbGUubG9nKCJjbG9zZUFkZFZlaGljbGUgaGl0IGJlZm9yZSAiLF90aGlzLm9wZW5BZGRfVmVoaWNsZURsaW9nKSAgOwogICAgLy8gIF90aGlzLiRzZXQoX3RoaXMuJGRhdGEsJ29wZW5BZGRfVmVoaWNsZURsaW9nJyxmYWxzZSkgIAogICAgICAvLyBjb25zb2xlLmxvZygiaGFuZGxlQ2xvc2VWZWhpY2xlIGhpdCBhZnRlciIsX3RoaXMub3BlbkFkZF9WZWhpY2xlRGxpb2cpOyAgCiAgICB9LCAgCgogICAgdmFsaWRhdGVWZWhpY2xlOmZ1bmN0aW9uKCl7CgpsZXQgdGl0bGVWYWxpZCA9IGZhbHNlCmxldCBkYXRlVmFsaWQgPSBmYWxzZQpsZXQgZWVsVmFsaWQgPSBmYWxzZQpsZXQgdmVoaWNsZVZhbGlkID0gZmFsc2UKbGV0IGxvY2F0aW9uVmFsaWQgPSBmYWxzZQpsZXQgcGVyc29uVmFsaWQgPSBmYWxzZQogIGlmKF90aGlzLlZlaGljbGVUaXRsZSl7CiAgICB0aXRsZVZhbGlkID0gdHJ1ZQp9ZWxzZXsKICB0aXRsZVZhbGlkID1mYWxzZQp9CgppZihuZXcgRGF0ZShfdGhpcy5lbmQpID4gbmV3IERhdGUoX3RoaXMuc3RhcnQpKXsKICAgIGRhdGVWYWxpZCA9IHRydWUKfWVsc2V7CiAgZGF0ZVZhbGlkID0gZmFsc2UKfQoKaWYoX3RoaXMuZWVsVmFsKXsKICBlZWxWYWxpZCA9IHRydWUKfWVsc2V7CiAgZWVsVmFsaWQgPSBmYWxzZQp9CgppZihfdGhpcy52ZWhpY2xlTm8pewogIHZlaGljbGVWYWxpZCA9IHRydWUKfWVsc2V7CiAgdmVoaWNsZVZhbGlkID0gZmFsc2UKfQoKaWYoX3RoaXMubG9jYXRpb25WYWwubGVuZ3RoPjApewogIGxvY2F0aW9uVmFsaWQgPSB0cnVlCn1lbHNlewogIGxvY2F0aW9uVmFsaWQgPSBmYWxzZQp9CgppZihfdGhpcy5wZXJzb25zTGlzdC5sZW5ndGg+MCl7CiAgcGVyc29uVmFsaWQgPSB0cnVlCn1lbHNlewogIHBlcnNvblZhbGlkID0gZmFsc2UKfQoKICBfdGhpcy50aXRsZV9WYWxpZCAgICAgID0gdGl0bGVWYWxpZCwKICBfdGhpcy5kYXRlX1ZhbGlkICAgICAgID0gZGF0ZVZhbGlkLAogIF90aGlzLmVlbF9WYWxpZCAgICAgICAgPSBlZWxWYWxpZCwKICBfdGhpcy52ZWhpY2xlX1ZhbGlkICAgID0gdmVoaWNsZVZhbGlkLAogIF90aGlzLmxvY2F0aW9uX3ZhbGlkICAgPSBsb2NhdGlvblZhbGlkLAogIF90aGlzLnBlcnNvbkxpc3RfdmFsaWQgPSBwZXJzb25WYWxpZAoKCmxldCB2YWxpZGF0ZU9iaiA9ICB0aXRsZVZhbGlkICYmIGRhdGVWYWxpZCAmJiBlZWxWYWxpZCAmJiB2ZWhpY2xlVmFsaWQgJiYgbG9jYXRpb25WYWxpZCAmJiBwZXJzb25WYWxpZAoKcmV0dXJuIHZhbGlkYXRlT2JqCgogICAgfSwKCiAgICBoYW5kbGVBZGRFdmVudDpmdW5jdGlvbigpeyAgICAKICAgIHZhciB0ZW1wID0gX3RoaXMudmFsaWRhdGVWZWhpY2xlKCkgICAgCiAgICAKY29uc29sZS5sb2coInRpdGxlVmFsaWQiLF90aGlzLnRpdGxlX1ZhbGlkKTsKY29uc29sZS5sb2coImRhdGVWYWxpZCIsX3RoaXMuZGF0ZV9WYWxpZCk7CmNvbnNvbGUubG9nKCJlZWxWYWxpZCIsX3RoaXMuZWVsX1ZhbGlkKTsKY29uc29sZS5sb2coInZlaGljbGVWYWxpZCIsX3RoaXMudmVoaWNsZV9WYWxpZCk7CmNvbnNvbGUubG9nKCJsb2NhdGlvblZhbGlkIixfdGhpcy5sb2NhdGlvbl92YWxpZCk7CmNvbnNvbGUubG9nKCJwZXJzb25WYWxpZCIsX3RoaXMucGVyc29uTGlzdF92YWxpZCk7CgogICAgIHZhbGlkID0gdGVtcCAmJiBfdGhpcy50aXRsZV9WYWxpZCAmJiBfdGhpcy5kYXRlX1ZhbGlkICYmIF90aGlzLmVlbF9WYWxpZCAmJiBfdGhpcy52ZWhpY2xlX1ZhbGlkICYmIF90aGlzLmxvY2F0aW9uX3ZhbGlkICYmIF90aGlzLnBlcnNvbkxpc3RfdmFsaWQKICAgIC8vIHZhciB2YWxpZCA9IHRydWUgIAogICAgaWYgKHZhbGlkKSB7ICAKICAgICAgY29uc3QgZXZlbnRzID0gWy4uLl90aGlzLmNhbGVuZGFyRXZlbnRzXTsgIAogICAgICAgIAogICAgICBjb25zdCB0ZW1wbGlzdCA9IFsuLi5fdGhpcy5mdWxsTGlzdCwgLi4uX3RoaXMucGVyc29uc0xpc3RdICAKICAKICAgICAgZXZlbnRzLnB1c2goeyAgCiAgICAgICAgZGF0ZTpfdGhpcy5jdXJyZW50RGF0ZSwgIAogICAgICAgIFZlaGljbGVUaXRsZTogX3RoaXMuVmVoaWNsZVRpdGxlLCAgCiAgICAgICAgc3RhcnQ6IF90aGlzLnN0YXJ0LAogICAgICAgIGVuZDogX3RoaXMuZW5kLAogICAgICAgIGlkOiBfdGhpcy5pZCwKICAgICAgICB2ZWhpY2xlTm86IF90aGlzLnZlaGljbGVObywKICAgICAgICBwZXJzb25zTGlzdDogX3RoaXMucGVyc29uc0xpc3QsCiAgICAgICAgZWVsSWQgOiBfdGhpcy5lZWxJZCwKICAgICAgICBsb2NhdGlvblZhbDogX3RoaXMubG9jYXRpb25WYWwsCiAgICAgICAgZWVsVmFsOiBfdGhpcy5lZWxWYWwubGFiZWwKICAgICAgfSk7CiAgICAgICAKICAgICAgICBfdGhpcy5jYWxlbmRhckV2ZW50cyAgICAgID0gZXZlbnRzLAogICAgICAgIF90aGlzLmlzU3VibWl0ICAgICAgICAgICAgPSB0cnVlLAogICAgICAgIF90aGlzLmlzRWRpdCAgICAgICAgICAgICAgPSBmYWxzZSwKICAgICAgICBfdGhpcy5vcGVuQWRkX1ZlaGljbGVEbGlvZz0gZmFsc2UsCiAgICAgICAgX3RoaXMuaWQgICAgICAgICAgICAgICAgICA9IF90aGlzLmlkICsgMSwKICAgICAgICBfdGhpcy5lZWxWYWwgICAgICAgICAgICAgID0gX3RoaXMuZWVsVmFsLAogICAgICAgIF90aGlzLmZ1bGxMaXN0ICAgICAgICAgICAgPSB0ZW1wbGlzdCwKICAgICAgICBfdGhpcy5wZXJzb25zTGlzdCAgICAgICAgID0gX3RoaXMucGVyc29uc0xpc3QsCiAgICAgICAgX3RoaXMudGl0bGVfVmFsaWQgICAgICAgICA9IGZhbHNlLAogICAgICAgIF90aGlzLnZlaGljbGVfVmFsaWQgICAgICAgPSBmYWxzZSwKICAgICAgICBfdGhpcy5kYXRlX1ZhbGlkICAgICAgICAgID0gZmFsc2UsCiAgICAgICAgX3RoaXMuZWVsX1ZhbGlkICAgICAgICAgICA9IGZhbHNlLAogICAgICAgIF90aGlzLmxvY2F0aW9uX3ZhbGlkICAgICAgPSBmYWxzZSwKICAgICAgICBfdGhpcy5wZXJzb25MaXN0X3ZhbGlkICAgID0gZmFsc2UKCiAgICAgIGNvbnNvbGUubG9nKF90aGlzLmNhbGVuZGFyRXZlbnRzKTsKICAgIH0gZWxzZXsKICAgICAgLy8gdmFyIGlucCA9ICF0aGlzLnN0YXRlLmRhdGVfVmFsaWQgPyAiVGltZSBzaG91bGQgYmUgZGlmZmVyZW50ICYgZ3JlYXRlciB0aGFuIHN0YXJ0IHRpbWUiIDogbnVsbAogICAgfQogICAgfSwKCiAgb3BlbkVkaXQgOiBmdW5jdGlvbihkYXRhLGRhdGUpewogICAgLy8gY29uc29sZS5sb2coZGF0ZSk7CiAgICAKICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgCiAgICBjb25zdCB2X2lkID0gWy4uLnRoaXMuc3RhdGUudXBkYXRlVmVoaWNsZUlkXQoKICBjb25zdCB2ZWhpY2xlSWQgPSB0aGlzLnN0YXRlLmNhbGVuZGFyRXZlbnRzLmZpbHRlcih2ZWhpY2xlID0+IHsKICAgICAgICAgICAgcmV0dXJuIHZlaGljbGUudmVoaWNsZU5vID09PSBkYXRhLnZfbm8KICB9KQogICAgICB2X2lkLnB1c2godmVoaWNsZUlkWzBdLmlkKQoKICAgICAgLy8gbGV0IGVkaXRlZFZlaGljbGVMaXN0ID0gdl9pZC5maWx0ZXIoKHYsaSkgPT4gdl9pZC5pbmRleE9mKHYpID09PSBpKQogICAgICAvLyBjb25zb2xlLmxvZyh4KTsKICAgICAgCiAgICBjb25zdCBsaXN0ID0gZGF0YS5wZXJzb25zLnNwbGl0KCIsIikgICAgCiAgICAgIGNvbnN0IGFzc2luZ25lZFBlcnNvbiA9IHRoaXMuc3RhdGUudXNlckxpc3QuZmlsdGVyKChkYXRhKSA9PiB7CiAgICAgICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KHVzZXIgPT4gZGF0YS52YWx1ZS50b1N0cmluZygpID09PSB1c2VyKSAhPT0gLTEKICB9KSAgICAKICAvLyBjb25zb2xlLmxvZyhhc3NpbmduZWRQZXJzb24pOwogIAoKICBsZXQgZWVsID0gdGhpcy5zdGF0ZS51c2VyTGlzdC5maWx0ZXIoKHVzZXIpID0+IHsKICAgIHJldHVybiB1c2VyLmxhYmVsID09PSBkYXRhLmVlbAp9KQovLyBjb25zb2xlLmxvZyhlZWwpOwoKICBjb25zdCBBdmFpbF9PcHQgPSB0aGlzLnN0YXRlLnVzZXJMaXN0LmZpbHRlcigoZGF0YSkgPT4gewogICAgcmV0dXJuIHRoaXMuc3RhdGUuZnVsbExpc3QuZmluZEluZGV4KHVzZXIgPT4gZGF0YS5pZCA9PT0gdXNlci5pZCkgPCAwCiAgIH0pIAogICAgbGV0IG9iaiA9IHsKICAgICAgZGVmYXVsdEVlbFZhbCA6IGVlbC5sYWJlbCwKICAgICAgZWVsVmFsOiBlZWxbMF0sCiAgICAgIGVlbElkIDogZWVsLmlkLAogICAgICBzdGFydCA6IGRhdGVPYmpGb3JtYXR0ZXIodGhpcy5zdGF0ZS5jdXJyZW50RGF0ZSxkYXRhLnZfbW92ZV9zdGFydCksCiAgICAgIGVuZCA6IGRhdGVPYmpGb3JtYXR0ZXIodGhpcy5zdGF0ZS5jdXJyZW50RGF0ZSxkYXRhLnZfbW92ZV9lbmQpLAogICAgICBsb2NhdGlvblZhbDogZGF0YS5sb2NhdGlvbiwKICAgICAgcGVyc29uc0xpc3QgOiBhc3NpbmduZWRQZXJzb24sCiAgICAgIFZlaGljbGVUaXRsZSA6IGRhdGEudGl0bGUsCiAgICAgIHZlaGljbGVObyA6IGRhdGEudl9ubywKICAgICAgaXNWZWhpY2xlQWRkIDogZmFsc2UsCiAgICAgIGRhdGVfVmFsaWQgOiB0cnVlLAogICAgICB0aXRsZV9WYWxpZCA6IHRydWUsCiAgICAgIGVlbF9WYWxpZCA6IHRydWUsCiAgICAgIHZlaGljbGVfVmFsaWQgOiB0cnVlLAogICAgICBsb2NhdGlvbl92YWxpZCA6IHRydWUsCiAgICAgIHBlcnNvbkxpc3RfdmFsaWQgOiB0cnVlLAogICAgICB1cGRhdGVWZWhpY2xlSWQgOiB2X2lkLAogICAgICBjdXJyZW50VmVoaWNsZUlkIDogdmVoaWNsZUlkWzBdLmlkCiAgICB9CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAuLi50aGlzLnN0YXRlLAogICAgICAgICAgLi4ub2JqLAogICAgICAgICAgb3BlbkFkZF9WZWhpY2xlRGxpb2c6dHJ1ZSwKICAgICAgICAgIGF2YWlsT3B0aW9ucyA6IEF2YWlsX09wdCwKICAgICAgICAgIC8vIGVlbFZhbDogZGF0YS5lZWwsCiAgICAgICAgfSkKICB9LAoKICAgICAgZGF0ZXRpbWVoYW5kbGUgOiBmdW5jdGlvbihkYXRhKXsKICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICBpZihkYXRhLmlkID09PSAxKXsKICAgICAgICAgIGNvbnNvbGUubG9nKCJvYXRtZWFsIik7CiAgICAgICAgICBfdGhpcy5vYXRNZWFsID0gbmV3IERhdGUoZGF0YS50aW1lKQogICAgICAgICAgX3RoaXMub2F0bWVhbF92YWxpZCA9IHRydWUgICAgICAgIH0KICAgICAgICBpZihkYXRhLmlkID09PSAyICl7CiAgICAgICAgICBjb25zb2xlLmxvZygicGFuY2FrZSAiKTsKICAgICAgICAgIGlmKG5ldyBEYXRlKGRhdGEudGltZSkgPj0gbmV3IERhdGUoX3RoaXMub2F0TWVhbCkpewogICAgICAgICAgX3RoaXMucGFuY2FrZSA9IG5ldyBEYXRlKGRhdGEudGltZSkKICAgICAgICAgIF90aGlzLnBhbmNha2VfdmFsaWQgPSB0cnVlICAgICAgICB9CiAgICAgICAgfWlmKGRhdGEuaWQgPT09IDMpewogICAgICAgICAgY29uc29sZS5sb2coImJlZWYgIik7CiAgICAgICAgICBfdGhpcy5iZWVmID0gbmV3IERhdGUoZGF0YS50aW1lKQogICAgICAgICAgX3RoaXMuYmVlZl92YWxpZCA9IHRydWUgICAgICAgIH0KICAgICAgICBpZihkYXRhLmlkID09IDQpewogICAgICAgICAgY29uc29sZS5sb2coImVtZXJhbGQgIik7CiAgICAgICAgICBpZihuZXcgRGF0ZShkYXRhLnRpbWUpID4gbmV3IERhdGUoX3RoaXMub2F0TWVhbCkpewogICAgICAgICAgX3RoaXMuZW1lcmFsZCA9IG5ldyBEYXRlKGRhdGEudGltZSkKICAgICAgICAgIF90aGlzLmVtZXJhbGRfdmFsaWQgPSB0cnVlICAgICAgICAKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoZGF0YS5pZCA9PSA1KXsgICAgICAgICAgCiAgICAgICAgICBpZihuZXcgRGF0ZShkYXRhLnRpbWUpIDwgbmV3IERhdGUoX3RoaXMuZW5kKSAmJiBuZXcgRGF0ZShkYXRhLnRpbWUpICE9PSBuZXcgRGF0ZShfdGhpcy5lbmQpKXsKICAgICAgICAgIGNvbnNvbGUubG9nKCJzdGFydCB0aW1lICIpOwogICAgICAgICAgX3RoaXMuc3RhcnQgPSBuZXcgRGF0ZShkYXRhLnRpbWUpCiAgICAgICAgICBfdGhpcy5kYXRlX1ZhbGlkID0gdHJ1ZQogICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoZGF0YS5pZCA9PSA2KXsKICAgICAgICAgIGlmKG5ldyBEYXRlKGRhdGEudGltZSkgPiBuZXcgRGF0ZShfdGhpcy5zdGFydCkgJiYgbmV3IERhdGUoZGF0YS50aW1lKSAhPT0gbmV3IERhdGUoX3RoaXMuc3RhcnQpKXsKICAgICAgICAgIF90aGlzLmVuZCA9IG5ldyBEYXRlKGRhdGEudGltZSkKICAgICAgICAgIF90aGlzLmRhdGVfVmFsaWQgPSB0cnVlCiAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKCiAgICAgIHZlaGljbGVOb0hhbmRsZXI6IGZ1bmN0aW9uKGRhdGEpewogICAgICAgIGNvbnN0IHRlbXBObyA9IGRhdGEudGFyZ2V0LnZhbHVlIAogICAgICAgICAgc2NoZW1hCiAgICAgICAgLmhhcygpLm5vdCgpLnN5bWJvbHMoKQogICAgICAgIC5oYXMoKS5ub3QoKS5zcGFjZXMoKQoKICAgICAgICAgIGlmIChzY2hlbWEudmFsaWRhdGUodGVtcE5vKSkgewogICAgICAgICAgICAgIF90aGlzLnZlaGljbGVObyAgICAgPSB0ZW1wTm8sCiAgICAgICAgICAgICAgX3RoaXMudmVoaWNsZV9WYWxpZCA9IHRydWUKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFRvYXN0c1N0b3JlLmVycm9yKCJlbnRlciB2YWxpZCB2ZWhpY2xlIG51bWJlciIpCiAgICAgICAgICAgICAgX3RoaXMudmVoaWNsZV9WYWxpZCA9IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgfSwKCiAgIGhhbmRsZUxvY2F0aW9uQ2hhbmdlOmZ1bmN0aW9uKGUpewoKICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0LnZhbHVlKTsKICAgIGNvbnN0IHRlbXBWYWwgPSBlLnRhcmdldC52YWx1ZQoKICAgICAgX3RoaXMubG9jYXRpb25WYWw9IHRlbXBWYWwsCiAgICAgIF90aGlzLmxvY2F0aW9uX3ZhbGlkID0gdHJ1ZQogCiAgICAgIH0sCgogICBoYW5kbGVVc2VyQ2hhbmdlIDogZnVuY3Rpb24oZGF0YSl7CmNvbnNvbGUubG9nKCJoYW5kbGUgdXNlciBjaGFuZ2UgIixkYXRhKTsKCiAgICBsZXQgZGlmZmVyZW5jZSA9IF90aGlzLnBlcnNvbnNMaXN0LmZpbHRlcih4ID0+IGRhdGEgIT09IG51bGwgPyAhZGF0YS5pbmNsdWRlcyh4KSA6IF90aGlzLnBlcnNvbnNMaXN0KSAgLy8gY2FsY3VsYXRlcyBkaWZmCgogICAgcmVtb3ZlZExpc3QgPSBbLi4ucmVtb3ZlZExpc3QsLi4uZGlmZmVyZW5jZV0KCiAgICByZW1vdmVkTGlzdCA9IHJlbW92ZWRMaXN0LmZpbHRlcigodixpKSA9PiByZW1vdmVkTGlzdC5pbmRleE9mKHYpID09PSBpKQogICAgLy8gY29uc29sZS5sb2cocmVtb3ZlZExpc3QpOwogICAgCiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApewogICAgICAgIF90aGlzLnBlcnNvbkxpc3RfdmFsaWQgPSB0cnVlLAogICAgICAgLy8gdmFsdWU6dGVtcAogICAgICAgIF90aGlzLnBlcnNvbnNMaXN0ID0gWy4uLmRhdGFdCiAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnBlcnNvbnNMaXN0ID0gW10KICAgIH0KICB9CiAgfQp9KTsK"},{"version":3,"sources":["calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"calendar.vue","sourceRoot":"src/containers/calendar","sourcesContent":["<template>\n<div>\n  <FullCalendar\n    defaultView=\"dayGridMonth\"\n    ref=\"fullCalendar\"\n    :eventTextColor=\"eventColor\"\n    :plugins=\"calendarPlugins\"\n    :draggable=\"true\"\n    :droppable=\"true\"\n    :editable=\"true\"\n    :config=\"config\"\n    :displayEventTime=\"false\"\n    :fixedWeekCount=\"false\"\n    @dateClick=\"handleDateClick\"\n    @eventClick=\"eventClick\"\n    :events=\"arrayOfProgState\"\n  />\n  <AddProgram \n  v-if=\"openAdd_Program\"\n  event = \"Add Program\"\n  v-bind:currentDate =\"currentDate | filterCustomDate('-')\"\n  v-bind:shift=\"shift\"\n  v-bind:openAdd_Program  = \"openAdd_Program\"\n  v-bind:submitAddProgram = \"handleAddProgram\"\n  v-bind:closeAddProgram  = \"closeAddProgram\"\n  v-bind:openAddVehicle   = \"openAddVehicle\"\n  v-bind:oatMeal          = \"oatMeal | formatCustomTime(':')\"\n  v-bind:beef             = \"beef | formatCustomTime(':')\"\n  v-bind:pancake          = \"pancake | formatCustomTime(':')\"\n  v-bind:emerald          = \"emerald | formatCustomTime(':')\"\n  v-bind:calendarEvents   = \"calendarEvents\"\n\n  v-on:handletimechange_=\"datetimehandle($event)\"\n  />\n\n    <AddProgram \n  v-else\n  event = \"Add Program\"\n  v-bind:currentDate =\"currentDate | filterCustomDate('-')\"\n  v-bind:shift=\"shift\"\n  v-bind:openAdd_Program  = \"openAdd_Program\"\n  v-bind:submitAddProgram = \"handleEdit\"\n  v-bind:closeAddProgram  = \"closeAddProgram\"\n  v-bind:openAddVehicle   = \"openAddVehicle\"\n  v-bind:oatMeal          = \"oatMeal | formatCustomTime(':')\"\n  v-bind:beef             = \"beef | formatCustomTime(':')\"\n  v-bind:pancake          = \"pancake | formatCustomTime(':')\"\n  v-bind:emerald          = \"emerald | formatCustomTime(':')\"\n\n  v-on:handletimechange_=\"datetimehandle($event)\"\n  />\n\n            <!-- openAdd_Program=openAdd_Program\n            \n            pancake_error = {!_this.state.pancake_valid}\n            emerald_error = {!_this.state.emerald_valid}\n\n            editHandler = {(e,date,myPersonList)=>_this.openEdit(e,date,myPersonList)}\n\n            handleSubmit={_this.state.programm_Add ? _this.handleAddProgram : _this.handleEdit}\n\n            btn1=\"Cancel\"\n            btn2={_this.state.programm_Add ? \"Submit\" : \"Edit\"}\n\n            // Component props for Select time\n            handletimechange={(date,id) => _this.handletimechange(date,id)}\n            timeValue={_this.state.timeValue}\n\n            //Component Props for Add Person Dilouge\n            openAddVehicle={_this.openAddVehicle} -->\n\n<!-- <AddProgram \n  v-else\n  event = \"Edit Program\"\n  v-bind:showAddProgram = \"showAddProgram\"\n  v-bind:submitAddProgram=\"submitAddProgram\"\n  v-bind:closeAddProgram=\"closeAddProgram\"\n  v-bind:openAddVehicle=\"openAddVehicle\"\n  \n  /> -->\n\n<AddVehicle \nv-bind:title_error=\"title_Valid\"\nv-bind:endTime_error=\"date_Valid\"\nv-bind:eel_error=\"eel_Valid\"\nv-bind:vehicle_error=\"vehicle_Valid\"\nv-bind:location_error=\"location_valid\"\nv-bind:personList_error=\"personList_valid\"\n\nv-bind:openAdd_VehicleDliog = \"openAdd_VehicleDliog\"\nv-bind:title = \"VehicleTitle\"\nv-bind:handleTitleChange = \"handleTitleChange\"\nv-bind:start_time = \"start | formatCustomTime(':')\"\nv-on:handletimechange_ = \"datetimehandle($event)\"\nv-bind:end_time = \"end | formatCustomTime(':')\"\nv-bind:eelVal = \"eelVal\"\nv-bind:handleEelChange = \"handleEelChange\"\nv-bind:v_no = \"vehicleNo\"\nv-bind:vehicleNoHandler = \"vehicleNoHandler\"\nv-bind:location = \"locationVal\"\nv-bind:handleLocationChange = \"handleLocationChange\"\nv-bind:persons = \"availOptions\"\nv-bind:selectedPersons=\"personsList\"\nv-bind:handleUserChange = \"handleUserChange\"\nv-bind:handleSubmit = \"handleAddEvent\"\nv-bind:handleCloseVehicle = \"handleCloseVehicle\"\n\n/>\n\n            <!-- date_valid = {this.state.date_valid} -->\n<!--  -->\n            <!-- //For Eel User -->\n             <!-- eelDefaultValue={this.state.defaultEelVal} -->\n            <!-- handleEelChange={this.handleEelChange} -->\n<!--  -->\n            <!-- handleSubmit={this.state.isVehicleAdd ? this.handleAddEvent : this.submitEdit} -->\n<!--  -->\n            <!-- // Component props For Select Users and Listing them -->\n            <!-- handleUserChange = {this.handleUserChange} -->\n            <!-- defaultValue={this.state.isEdit ? this.state.personsList : []} -->\n<!--  -->\n            <!-- addVehicleBtnSubmit={this.state.isVehicleAdd ? \"Submit\" : \"Edit\" } -->\n  \n</div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport FullCalendar from \"@fullcalendar/vue\";\nimport { Calendar } from \"@fullcalendar/core\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport AddProgram from \"../../components/DilogBox/AddProgram\";\nimport $ from 'jquery';\nimport slide from \"jquery-ui/ui/effects/effect-slide\"\nimport AddVehicle from '../../components/DilogBox/AddVehicle'\nimport {formatCustomDate, dateObjFormatter, formatCustomTime} from '../../helper/helper'\nimport passwordValidator from 'password-validator'\nimport { getListOfProgrammes, getProgrammeById, getUserList, updateProgram, createProgram } from '../../services'\nimport {ToastsContainer, ToastsStore, ToastsContainerPosition} from 'react-toasts';\n\n\nconst schema = new passwordValidator()\nvar arrayOfProg = []\nvar currentMonth = new Date()\nvar valid = false\nlet removedList = []\nvar _this = null\n\nexport default Vue.extend({\n  name: \"calendar\",\n\n  components: {\n    FullCalendar,\n    AddProgram,\n    AddVehicle\n  },\n\n  data: function() {\n    return {\n      calendarPlugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],\n      calendarEvents: [\n        // initial event data\n        { title: \"Event 1\", start: new Date() },\n        { title: \"Event 2\", start: \"2019-12-05\" },\n        { title: \"Event 3\", start: \"2019-12-06\" },\n        { title: \"Event 4\", start: \"2019-12-07\" },\n        { title: \"Event 5\", start: \"2019-12-10\" },\n        { title: \"Event 6\", start: \"2019-12-14\" },\n        { title: \"Event 7\", start: \"2019-12-15\" }\n      ],\n      config: {\n        defaultView: \"month\",\n        editable: true,\n        eventRender: function(event, element) {\n          console.log(event);\n        }\n      },\n      eventColor: \"#fff\",\n      showAddProgram : false,\n\n    isloading:false,\n    program: [],\n    arrayOfProgState : [],\n    vehicle: [],\n    editableDta:[],\n    currentProgrammeId : 0,\n    openAdd_Program: false,\n    isSubmit: false,\n    isEdit: false,\n    start: new Date(),\n    end: new Date(),\n    title: \"\",\n    editableTitle: \"\",\n    editablestart: \"\",\n    editableend: \"\",\n    id: 0,\n    removedUserListArray : [],\n    currentVehicleId:0,\n    updateVehicleId : [],\n    eventSelectId: 0,\n    isValid: false,\n    title_Valid:true,\n    oatmeal_valid : true,\n    beef_valid : true,\n    pancake_valid : true,\n    emerald_valid: true,\n    vehicle_Valid : false,\n    date_Valid : false,\n    eel_Valid : false,\n    location_valid : false,\n    personList_valid : false,\n    programm_Add : false,\n    event_date: new Date(),\n    dateTimeStart: new Date(),\n    dateTimeEnd: new Date(),\n    theme: \"dark\",\n    VehicleTitle : '',\n    personsList: [],\n    fullList:[],\n    VehiclesList:[],\n    usersList: false,\n    preSelect: [\"User1\", \"User2\"],\n    timeValue: new Date(),\n    openAdd_VehicleDliog: false,\n    vehicleNo: null,\n    shift: true,\n    eelVal: \"\",\n    defaultEelVal:{},\n    eelId:0,\n    locationVal: '',\n    isVehicleAdd:true,\n      oatMeal: new Date,\n      beef: new Date(),\n      pancake: new Date(),\n      emerald: new Date(),\n      currentDate:new Date(),\n    Morning: {\n      shift: 'Morning',\n      shiftTime: new Date(),\n    },\n    Evening: {\n      shift: 'Evening',\n      shiftTime: new Date(),\n    },\n    filteredList:[],\n    availOptions : [],\n    userList: []\n    };\n  },\n\n  mounted() {\n       _this = this;\n\n    document.addEventListener('DOMContentLoaded', function() {\n    let draggableEl = document.getElementById('mydraggable')\n    new Draggable(draggableEl, {\n      itemSelector: \".item-class\",\n      eventData: function (eventEl) {\n        let title = eventEl.getAttribute(\"title\");\n        return {\n          title: title\n        };\n      }\n    });\n      })\n\n     _this.monthChangehandler(0)\n\n    $('.fc-today-button').click(() => {      \n      _this.monthChangehandler(0)\n   })\n\n    $('.fc-prev-button').click(() => {  \n       _this.monthChangehandler(1)     \n   });\n\n    $('.fc-next-button').click(() => {\n      _this.monthChangehandler(2)\n });\n  },\n\n\n  methods: {\n    async monthChangehandler(id){\n    const token = localStorage.getItem('isLoggedin')\n    var updateMonth = id === 1 ? new Date(currentMonth.setMonth(currentMonth.getMonth() - 1)) : \n                      id === 2 ? new Date(currentMonth.setMonth(currentMonth.getMonth() + 1)) :\n                      new Date(currentMonth.setMonth(new Date().getMonth()))\n\n    currentMonth = updateMonth\n\n    var month = currentMonth.getMonth() > 8 ? currentMonth.getMonth()+1 : '0' + parseInt(currentMonth.getMonth()+1)\n \n    var lastDate = new Date(currentMonth.getFullYear(),month,0);\n    var programmeStart = currentMonth.getFullYear().toString()+ \"-\" + month + \"-01\"\n    var programmeEnd = currentMonth.getFullYear().toString()+ \"-\" + month + '-' +lastDate.getDate();\n\n   await getListOfProgrammes(token,programmeStart,programmeEnd).then((response) => {\n       arrayOfProg = response.data.data.map((data) => {\n          var obj = {\n            id: data.programmes.length > 0 ? data.programmes[0].programme_id : 0,\n            title : (data.programmes.length > 0 ? data.programmes[0].vechicleCount : 0) + \" vehicles\",\n            date : data.date\n          }\n           return data.programmes.length > 0 ? obj : false\n      })\n        _this.arrayOfProgState = arrayOfProg\n    })\n  },\n\n  validateProgram : function(){\n    let pancakeValid = false\n    let emeraldValid = false\n    \n    if(_this.pancake >= _this.oatMeal){\n      pancakeValid = true\n    }else{\n      pancakeValid = false\n    }\n\n    if(_this.emerald > _this.oatMeal){\n      emeraldValid = true\n    }else{\n      emeraldValid = false\n    }\n\n      _this.pancake_valid = pancakeValid,\n      _this.emerald_valid = emeraldValid\n\n    let validateObj = pancakeValid && emeraldValid\n    return validateObj\n  },\n\n    handleDateClick: function(arg) {\n      // console.log(\"date click \",_this.openAdd_Program);\n      \n    const temp = _this.arrayOfProgState.filter(data => {\n      return data.date === formatCustomDate(arg.date,'-')\n    })\n\n    const empty = \"\";\n    const defaultDate = arg.date;\n    const emptyList = [];\n    var token = localStorage.getItem('isLoggedin')\n    if(arg.date > new Date()){\n      if(!(temp.length > 0)){\n        {\n          getUserList(token,new Date(arg.date)).then(response => {\n            const users = response.data.data.map((data)=>{\n              var obj = {\n                label: data.user_name,\n                value: data.user_id,\n                id : data.user_id\n              }\n              return obj\n            })\n              _this.userList = users\n              // console.log(_this.userList);\n              \n          })\n            \n          const currentDate = new Date(arg.date)\n        \n        // bind with an arrow function\n    \n          _this.oatmeal_valid    = true,\n          _this.beef_valid       = true,\n          _this.pancake_valid    = true,\n          _this.emerald_valid    = true,\n          _this.openAdd_Program  = !_this.openAdd_Program,\n          _this.VehicleTitle     = empty,\n          _this.isSubmit         = true,\n          _this.shift            = true,\n          _this.start            = defaultDate,\n          _this.end              = defaultDate,\n          _this.currentDate      = currentDate,\n          _this.calendarEvents   = emptyList,\n          _this.programm_Add     = true\n          _this.personsList      = emptyList\n          // personId:0\n      }\n      }else{\n        ToastsStore.error(\"Only one Program can be add at particular date!\")\n      }\n}\nelse{\n  ToastsStore.error(\"Please select future dates only for creating Programme!\")\n}\n},\n\n    eventClick:function(program){\n        \n    const removedUserListArray = []\n    const token = localStorage.getItem('isLoggedin');\n    \n    getProgrammeById(token,parseInt(program.event.id)).then( async function(response){      \n        // console.log(response);\n      const tempProg = []\n      var data = response.data.data[0]\n      var date = new Date(data.date)\n      \n      await getUserList(token,date).then(response => {\n          \n        const users = response.data.data.map((data)=>{\n          var obj = {\n            label: data.user_name,\n            value: data.user_id,\n            id : data.user_id\n          }          \n          return obj\n        })\n       Vue.set(_this.$data,'userList',users) \n      })\n\n      const events = data.programmes_vehicles.map(vehicle => {\n        const eel = _this.userList.filter(user => {\n          return user.id === data.user_id\n        })\n        \n      var list = vehicle.prog_vehicle_users.map(user => {\n        const obj = {\n          label: user.user.display_name,\n          value: user.user_id,\n          id : user.user_id\n        }\n        return obj\n      })\n\n    const vehicles = data.programmes_vehicles.map(v_data => {      \n\n      const assingnedPerson = v_data.prog_vehicle_users.map((user) => {\n        const temp = {\n          label: user.user.display_name,\n          value: user.user.display_name,\n          id : user.user_id\n        }\n\n        return temp\n  })\n\n  const emergencyUser = {\n    label:  v_data.support_user.display_name, value:  v_data.support_user_id, id:  v_data.support_user_id\n  }\n  // console.log(emergencyUser);\n  \n  // const emergencyUser = _this.state.userList.filter(userName => {\n    \n  //   return userName.id === v_data.support_user_id\n  // })\n  \n      const obj = {\n        date:_this.currentDate,\n        VehicleTitle: v_data.title,\n        start: dateObjFormatter(date,v_data.v_s_t),\n        end: dateObjFormatter(date,v_data.v_e_t),\n        id: v_data.vehicle_id,\n        vehicleNo: v_data.vehicle_no,\n        eelVal : emergencyUser.label,\n        personsList:[...assingnedPerson],\n        eelId : v_data.support_user_id,\n        locationVal: v_data.additional_info,\n\n      }\n      return obj\n    })\n    \n    tempProg.push({\n      title: data.programmes_vehicles.length +' vehicles',\n      programme_id : data.id,\n      date:date,\n      emerald : data.oct_evening !== \"\" ? dateObjFormatter(date,data.oct_evening) : dateObjFormatter(date,data.oct_morning),\n      beef : data.vmt_evening !== \"\" ? dateObjFormatter(date,data.vmt_evening) : dateObjFormatter(date,data.vmt_morning),\n      pancake : dateObjFormatter(date,data.ws_o_time),\n       oatMeal : data.oot_evening !== \"\" ? dateObjFormatter(date,data.oot_evening) : dateObjFormatter(date,data.oot_morning),\n      VehiclesList : [...vehicles]\n    })\n\n       const obj = {\n        date:new Date(data.date),\n        VehicleTitle: vehicle.title,\n        start: dateObjFormatter(new Date(),vehicle.v_s_t),\n        end: dateObjFormatter(new Date(),vehicle.v_e_t),\n        id: vehicle.vehicle_id,\n        vehicleNo: vehicle.vehicle_no,\n        personsList: list,\n        eelId : vehicle.support_user_id,\n        locationVal: vehicle.additional_info,\n        eelVal : vehicle.support_user.display_name,\n        currentProgrammeId : program.event.id,\n        openAdd_Program : false\n      }\n      return obj \n      })\n\n        _this.oatmeal_valid = true,\n        _this.beef_valid = true,\n        _this.pancake_valid = true,\n        _this.emerald_valid = true,\n        _this.program = tempProg,\n        _this.openAdd_Program= !_this.openAdd_Program,\n        _this.isEdit= true,\n        _this.isSubmit= false,\n        _this.calendarEvents = [...events], \n        _this.removedUserListArray = removedUserListArray,\n        _this.beef    = data.vmt_evening !== \"\" ? dateObjFormatter(date,data.vmt_evening) : dateObjFormatter(date,data.vmt_morning),\n        _this.emerald = data.oct_evening !== \"\" ? dateObjFormatter(date,data.oct_evening) : dateObjFormatter(date,data.oct_morning),\n        _this.oatMeal = data.oot_evening !== \"\" ? dateObjFormatter(date,data.oot_evening) : dateObjFormatter(date,data.oot_morning),\n        _this.pancake = dateObjFormatter(date,data.ws_o_time),\n        _this.programm_Add=false,\n        _this.event_date = date,\n        _this.shift = data.oct_evening === \"\" ? true : false,\n        _this.currentDate = new Date(data.date)\n     \n    })\n     // console.log(typeof(_this.state.personId));\n    },\n\n    handleEdit : function() {    \n   if(_this.event_date > new Date()){\n\n    const token = localStorage.getItem('isLoggedin')\n    \n    const cloneProgram = [..._this.program]\n    const events = [..._this.calendarEvents];\n\n    const updatedProg = cloneProgram.map(info =>{\n\n      const obj ={\n        title: _this.calendarEvents.length +' vehicles' ,\n        programme_id : info.programme_id,\n        date:_this.currentDate,\n        emerald : _this.emerald,\n        beef : _this.beef,\n        pancake : _this.pancake,\n        oatMeal : _this.oatMeal,\n        VehiclesList : [...events]\n      }\n      return obj\n    })    \n    events.map(event => {\n      return event[_this.eventSelectId];\n    });\n\n    updateProgram(token,updatedProg,_this.shift,_this.calendarEvents,_this.updateVehicleId,_this.removedUserListArray)\n    .then(()=>{\n      window.location.reload(false);\n    })\n    // events[_this.state.eventSelectId] = newEvent;\n\n      _this.VehiclesList = events,\n      _this.beef = _this.beef,\n      _this.date = _this.currentDate,\n      _this.emerald = _this.emerald,\n      _this.oatMeal = _this.oatMeal,\n      _this.pancake = _this.pancake,\n      _this.title= _this.calendarEvents.length+'Programs' ,\n      _this.openAdd_Program = false,\n      _this.isloading = true\n      _this.isSubmit = false,\n      _this.isEdit = false    \n   }else{\n     ToastsStore.error('Future events can only be edited!')\n   }\n  },\n\n  handleTitleChange:function(event){\n    const tempVal = event.target.value;\n    //  console.log(tempVal);\n    if (_this.isSubmit) {\n        _this.title_Valid = true,\n        _this.VehicleTitle = tempVal\n    } else {\n        _this.title_Valid = true,\n        _this.VehicleTitle = tempVal\n    }\n  },\n\n  handleEelChange : function(e){\n    // console.log(e);\n      _this.eelVal= e,\n      _this.eelId = e.id,\n      _this.eel_Valid = true\n  },\n\n    closeAddProgram:function(){\n        _this.openAdd_Program = false\n    },\n\n    handleAddProgram: function(){\n      \n    const valid_prog = this.validateProgram()\n    // console.log(temp);\n\nif(_this.calendarEvents.length > 0 && valid_prog){\n  if(_this.pancake_valid && _this.oatmeal_valid && _this.beef_valid && _this.emerald_valid){\n      const program = []\n\n      const events = [..._this.calendarEvents];\n      // const id = new Date().getTime();\n      program.push({\n        title: _this.calendarEvents.length+' Vehicles' ,\n        date:formatCustomDate(_this.currentDate,'-'),\n        oatMeal : formatCustomTime(_this.oatMeal,':'),\n        beef : formatCustomTime(_this.beef,':'),\n        pancake : formatCustomTime(_this.pancake,':'),\n        emerald : formatCustomTime(_this.emerald,':'),\n        VehiclesList : [...events]\n      });\n  \n      arrayOfProg = [...program,...arrayOfProg]\n      \n        _this.program               = program,\n        _this.arrayOfProgState      = arrayOfProg,\n        _this.openAdd_Program       = false,\n        _this.isSubmit              = false,\n        _this.isEdit                = false,\n        _this.programm_Add          =false\n      \n      const token = localStorage.getItem('isLoggedin')\n      createProgram(token,program,_this.shift,_this.calendarEvents,_this.personsList)\n      .then(response => {\n        window.location.reload(false);\n      })\n\n        _this.personsList = _this.personsList\n  \n    }\n}else{\n  // ToastsStore.error(\"please add atleast one vehicle to add program! \") ;\n}\n },\n    openAddVehicle:function(){   \n      \n      const list = _this.userList.filter((data) => {\n      return _this.fullList.findIndex(user => data.id === user.id) < 0\n     })      \n\n      _this.VehicleTitle     = \"\",\n      _this.start            = new Date(),\n      _this.end              = new Date(),\n      _this.id               = 0,\n      _this.vehicleNo        = \"\",\n      _this.availOptions     = list,\n      _this.eelVal           = {},\n      _this.personsList      = [],\n      _this.eelId            = 0,\n      _this.locationVal      = \"\",\n      _this.isVehicleAdd     = true,\n      _this.date_Valid       = true,\n      _this.title_Valid      = true,\n      _this.vehicle_Valid    = true,\n      _this.eel_Valid        = true,\n      _this.location_valid   = true,\n      _this.personList_valid = true\n\n      _this.valid = false\n      _this.openAdd_VehicleDliog = true  \n\n      // console.log(\"open add vehicle\",_this.availOptions);\n          \n    },  \nhandleCloseVehicle:function(){  \n      _this.openAdd_VehicleDliog = false\n    //   console.log(\"closeAddVehicle hit before \",_this.openAdd_VehicleDliog)  ;\n    //  _this.$set(_this.$data,'openAdd_VehicleDliog',false)  \n      // console.log(\"handleCloseVehicle hit after\",_this.openAdd_VehicleDliog);  \n    },  \n\n    validateVehicle:function(){\n\nlet titleValid = false\nlet dateValid = false\nlet eelValid = false\nlet vehicleValid = false\nlet locationValid = false\nlet personValid = false\n  if(_this.VehicleTitle){\n    titleValid = true\n}else{\n  titleValid =false\n}\n\nif(new Date(_this.end) > new Date(_this.start)){\n    dateValid = true\n}else{\n  dateValid = false\n}\n\nif(_this.eelVal){\n  eelValid = true\n}else{\n  eelValid = false\n}\n\nif(_this.vehicleNo){\n  vehicleValid = true\n}else{\n  vehicleValid = false\n}\n\nif(_this.locationVal.length>0){\n  locationValid = true\n}else{\n  locationValid = false\n}\n\nif(_this.personsList.length>0){\n  personValid = true\n}else{\n  personValid = false\n}\n\n  _this.title_Valid      = titleValid,\n  _this.date_Valid       = dateValid,\n  _this.eel_Valid        = eelValid,\n  _this.vehicle_Valid    = vehicleValid,\n  _this.location_valid   = locationValid,\n  _this.personList_valid = personValid\n\n\nlet validateObj =  titleValid && dateValid && eelValid && vehicleValid && locationValid && personValid\n\nreturn validateObj\n\n    },\n\n    handleAddEvent:function(){    \n    var temp = _this.validateVehicle()    \n    \nconsole.log(\"titleValid\",_this.title_Valid);\nconsole.log(\"dateValid\",_this.date_Valid);\nconsole.log(\"eelValid\",_this.eel_Valid);\nconsole.log(\"vehicleValid\",_this.vehicle_Valid);\nconsole.log(\"locationValid\",_this.location_valid);\nconsole.log(\"personValid\",_this.personList_valid);\n\n     valid = temp && _this.title_Valid && _this.date_Valid && _this.eel_Valid && _this.vehicle_Valid && _this.location_valid && _this.personList_valid\n    // var valid = true  \n    if (valid) {  \n      const events = [..._this.calendarEvents];  \n        \n      const templist = [..._this.fullList, ..._this.personsList]  \n  \n      events.push({  \n        date:_this.currentDate,  \n        VehicleTitle: _this.VehicleTitle,  \n        start: _this.start,\n        end: _this.end,\n        id: _this.id,\n        vehicleNo: _this.vehicleNo,\n        personsList: _this.personsList,\n        eelId : _this.eelId,\n        locationVal: _this.locationVal,\n        eelVal: _this.eelVal.label\n      });\n       \n        _this.calendarEvents      = events,\n        _this.isSubmit            = true,\n        _this.isEdit              = false,\n        _this.openAdd_VehicleDliog= false,\n        _this.id                  = _this.id + 1,\n        _this.eelVal              = _this.eelVal,\n        _this.fullList            = templist,\n        _this.personsList         = _this.personsList,\n        _this.title_Valid         = false,\n        _this.vehicle_Valid       = false,\n        _this.date_Valid          = false,\n        _this.eel_Valid           = false,\n        _this.location_valid      = false,\n        _this.personList_valid    = false\n\n      console.log(_this.calendarEvents);\n    } else{\n      // var inp = !this.state.date_Valid ? \"Time should be different & greater than start time\" : null\n    }\n    },\n\n  openEdit : function(data,date){\n    // console.log(date);\n    \n    console.log(data);\n    \n    const v_id = [...this.state.updateVehicleId]\n\n  const vehicleId = this.state.calendarEvents.filter(vehicle => {\n            return vehicle.vehicleNo === data.v_no\n  })\n      v_id.push(vehicleId[0].id)\n\n      // let editedVehicleList = v_id.filter((v,i) => v_id.indexOf(v) === i)\n      // console.log(x);\n      \n    const list = data.persons.split(\",\")    \n      const assingnedPerson = this.state.userList.filter((data) => {\n        return list.findIndex(user => data.value.toString() === user) !== -1\n  })    \n  // console.log(assingnedPerson);\n  \n\n  let eel = this.state.userList.filter((user) => {\n    return user.label === data.eel\n})\n// console.log(eel);\n\n  const Avail_Opt = this.state.userList.filter((data) => {\n    return this.state.fullList.findIndex(user => data.id === user.id) < 0\n   }) \n    let obj = {\n      defaultEelVal : eel.label,\n      eelVal: eel[0],\n      eelId : eel.id,\n      start : dateObjFormatter(this.state.currentDate,data.v_move_start),\n      end : dateObjFormatter(this.state.currentDate,data.v_move_end),\n      locationVal: data.location,\n      personsList : assingnedPerson,\n      VehicleTitle : data.title,\n      vehicleNo : data.v_no,\n      isVehicleAdd : false,\n      date_Valid : true,\n      title_Valid : true,\n      eel_Valid : true,\n      vehicle_Valid : true,\n      location_valid : true,\n      personList_valid : true,\n      updateVehicleId : v_id,\n      currentVehicleId : vehicleId[0].id\n    }\n        this.setState({\n          ...this.state,\n          ...obj,\n          openAdd_VehicleDliog:true,\n          availOptions : Avail_Opt,\n          // eelVal: data.eel,\n        })\n  },\n\n      datetimehandle : function(data){\n        // console.log(data);\n        if(data.id === 1){\n          console.log(\"oatmeal\");\n          _this.oatMeal = new Date(data.time)\n          _this.oatmeal_valid = true        }\n        if(data.id === 2 ){\n          console.log(\"pancake \");\n          if(new Date(data.time) >= new Date(_this.oatMeal)){\n          _this.pancake = new Date(data.time)\n          _this.pancake_valid = true        }\n        }if(data.id === 3){\n          console.log(\"beef \");\n          _this.beef = new Date(data.time)\n          _this.beef_valid = true        }\n        if(data.id == 4){\n          console.log(\"emerald \");\n          if(new Date(data.time) > new Date(_this.oatMeal)){\n          _this.emerald = new Date(data.time)\n          _this.emerald_valid = true        \n          }\n        }\n        if(data.id == 5){          \n          if(new Date(data.time) < new Date(_this.end) && new Date(data.time) !== new Date(_this.end)){\n          console.log(\"start time \");\n          _this.start = new Date(data.time)\n          _this.date_Valid = true\n        }\n        }\n        if(data.id == 6){\n          if(new Date(data.time) > new Date(_this.start) && new Date(data.time) !== new Date(_this.start)){\n          _this.end = new Date(data.time)\n          _this.date_Valid = true\n        }\n        }\n      },\n\n      vehicleNoHandler: function(data){\n        const tempNo = data.target.value \n          schema\n        .has().not().symbols()\n        .has().not().spaces()\n\n          if (schema.validate(tempNo)) {\n              _this.vehicleNo     = tempNo,\n              _this.vehicle_Valid = true\n          } else {\n            ToastsStore.error(\"enter valid vehicle number\")\n              _this.vehicle_Valid = false\n            }\n      },\n\n   handleLocationChange:function(e){\n\n    // console.log(e.target.value);\n    const tempVal = e.target.value\n\n      _this.locationVal= tempVal,\n      _this.location_valid = true\n \n      },\n\n   handleUserChange : function(data){\nconsole.log(\"handle user change \",data);\n\n    let difference = _this.personsList.filter(x => data !== null ? !data.includes(x) : _this.personsList)  // calculates diff\n\n    removedList = [...removedList,...difference]\n\n    removedList = removedList.filter((v,i) => removedList.indexOf(v) === i)\n    // console.log(removedList);\n    \n    if (data && data.length > 0){\n        _this.personList_valid = true,\n       // value:temp\n        _this.personsList = [...data]\n    } else {\n        _this.personsList = []\n    }\n  }\n  }\n});\n</script>\n\n<style lang='scss'>\n@import \"~@fullcalendar/core/main.css\";\n@import \"~@fullcalendar/daygrid/main.css\";\n@import \"~@fullcalendar/timegrid/main.css\";\n@import \"~@fullcalendar/resource-timeline/main.css\";\n</style>"]}]}